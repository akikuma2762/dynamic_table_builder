<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è¡¨æ ¼æº¢å‡ºæ¸¬è©¦ - å‹•æ…‹è¡¨æ ¼ç”¢ç”Ÿå™¨</title>
    <style>
        body {
            font-family: system-ui, -apple-system, sans-serif;
            margin: 20px;
            background: #f8fafc;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .demo-section {
            margin-bottom: 40px;
            padding: 20px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
        }
        .demo-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 15px;
        }
        .demo-description {
            color: #64748b;
            margin-bottom: 20px;
            line-height: 1.6;
        }
        /* æ¨¡æ“¬åŸæœ¬çš„å•é¡Œæ¨£å¼ */
        .old-table-block {
            border: 1px dashed #bbb;
            margin-bottom: 1.5rem;
            background: #fff;
            max-width: 100%;
            overflow-x: auto;
            box-sizing: border-box;
            border-radius: 10px;
            padding: 0.5rem;
        }
        .old-table-block table {
            width: 100%;
            table-layout: fixed;
            word-break: break-all;
        }
        .old-table-block td, .old-table-block th {
            border: 1px solid #ddd;
            padding: 8px;
            min-width: 80px;
        }
        /* ä½¿ç”¨æ–°çš„å„ªåŒ–æ¨£å¼ */
        .new-table-block {
            max-width: 100%;
            width: 100%;
            overflow-x: auto;
            overflow-y: visible;
            min-width: 0;
            box-sizing: border-box;
            background: white;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 24px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            transition: all 0.2s ease;
            position: relative;
        }
        .new-table-block:hover {
            border-color: #3b82f6;
            box-shadow: 0 8px 25px rgba(59, 130, 246, 0.15);
        }
        .new-table-block table {
            width: 100%;
            max-width: 100%;
            table-layout: auto;
            word-wrap: break-word;
            word-break: normal;
            min-width: 600px;
            border-collapse: collapse;
        }
        .new-table-block td, .new-table-block th {
            white-space: normal;
            word-wrap: break-word;
            overflow-wrap: break-word;
            min-width: 80px;
            max-width: 300px;
            vertical-align: top;
            padding: 12px 8px;
            border: 1px solid #e2e8f0;
        }
        .new-table-block th {
            background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%);
            color: #1e40af;
            font-weight: 600;
        }
        .new-table-block::-webkit-scrollbar {
            height: 8px;
        }
        .new-table-block::-webkit-scrollbar-track {
            background: #f1f5f9;
            border-radius: 4px;
        }
        .new-table-block::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 4px;
        }
        .new-table-block::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }
        .new-table-block.has-scroll::after {
            content: 'â† æ»‘å‹•æŸ¥çœ‹æ›´å¤š â†’';
            position: absolute;
            bottom: -24px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 0.75rem;
            color: #64748b;
            background: white;
            padding: 2px 8px;
            border-radius: 4px;
            border: 1px solid #e2e8f0;
            white-space: nowrap;
            pointer-events: none;
        }
        .controls {
            margin-bottom: 20px;
        }
        .controls button {
            background: #3b82f6;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            margin-right: 10px;
            font-size: 14px;
        }
        .controls button:hover {
            background: #2563eb;
        }
        .status {
            margin-top: 10px;
            padding: 10px;
            border-radius: 6px;
            font-size: 14px;
        }
        .status.overflow {
            background: #fee2e2;
            color: #b91c1c;
            border: 1px solid #fca5a5;
        }
        .status.no-overflow {
            background: #d1fae5;
            color: #059669;
            border: 1px solid #6ee7b7;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>è¡¨æ ¼æº¢å‡ºè™•ç†æ–¹æ¡ˆæ¸¬è©¦</h1>
        <p>æ­¤é é¢å±•ç¤ºå¦‚ä½•è§£æ±ºè¡¨æ ¼è¶…å‡ºå®¹å™¨ç¯„åœçš„å•é¡Œï¼ŒåŒ…å«å‰å¾Œå°æ¯”å’Œå‹•æ…‹æª¢æ¸¬åŠŸèƒ½ã€‚</p>

        <div class="demo-section">
            <div class="demo-title">ğŸš« å•é¡Œæ¡ˆä¾‹ï¼šèˆŠçš„è¡¨æ ¼æ¨£å¼</div>
            <div class="demo-description">
                ä½¿ç”¨ `table-layout: fixed` å’Œ `word-break: break-all` å¯èƒ½å°è‡´å…§å®¹é¡¯ç¤ºç•°å¸¸ï¼Œ
                ä¸”ç„¡æ³•å¾ˆå¥½åœ°è™•ç†å¯¬å…§å®¹ã€‚
            </div>
            <div class="old-table-block" id="oldTable">
                <table>
                    <thead>
                        <tr>
                            <th>é …ç›®ç·¨è™Ÿ</th>
                            <th>æª¢æŸ¥é …ç›®åç¨±</th>
                            <th>è©³ç´°èªªæ˜èˆ‡è¦æ±‚</th>
                            <th>æª¢æŸ¥çµæœ</th>
                            <th>å‚™è¨»æ¬„ä½</th>
                            <th>è² è²¬äººå“¡</th>
                            <th>å®Œæˆæ—¥æœŸ</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>001</td>
                            <td>é€™æ˜¯ä¸€å€‹å¾ˆé•·çš„æª¢æŸ¥é …ç›®åç¨±å¯èƒ½æœƒé€ æˆè¡¨æ ¼ä½ˆå±€å•é¡Œ</td>
                            <td>é€™è£¡æ˜¯éå¸¸è©³ç´°çš„èªªæ˜æ–‡å­—ï¼ŒåŒ…å«äº†å¾ˆå¤šé‡è¦çš„æª¢æŸ¥è¦æ±‚å’Œæ¨™æº–ï¼Œå¯èƒ½æœƒå°è‡´å„²å­˜æ ¼å…§å®¹æº¢å‡º</td>
                            <td>â˜‘ï¸ é€šé</td>
                            <td>ç„¡ç‰¹æ®Šç‹€æ³</td>
                            <td>å¼µä¸‰</td>
                            <td>2025-06-26</td>
                        </tr>
                        <tr>
                            <td>002</td>
                            <td>å¦ä¸€å€‹æª¢æŸ¥é …ç›®</td>
                            <td>ç°¡çŸ­èªªæ˜</td>
                            <td>âŒ æœªé€šé</td>
                            <td>éœ€è¦é€²ä¸€æ­¥æª¢æŸ¥</td>
                            <td>æå››</td>
                            <td>å¾…å®š</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="status no-overflow" id="oldStatus">æª¢æŸ¥ç‹€æ…‹ï¼šç„¡æº¢å‡º</div>
        </div>

        <div class="demo-section">
            <div class="demo-title">âœ… è§£æ±ºæ–¹æ¡ˆï¼šå„ªåŒ–çš„è¡¨æ ¼æ¨£å¼</div>
            <div class="demo-description">
                ä½¿ç”¨ `table-layout: auto`ã€æ”¹é€²çš„æ–‡å­—è™•ç†ï¼Œä»¥åŠå‹•æ…‹æº¢å‡ºæª¢æ¸¬ã€‚
                ç•¶å…§å®¹éå¯¬æ™‚æœƒè‡ªå‹•é¡¯ç¤ºæ°´å¹³æ»¾å‹•æ¢å’Œæç¤ºæ–‡å­—ã€‚
            </div>
            <div class="controls">
                <button onclick="addWideContent()">æ·»åŠ å¯¬å…§å®¹æ¸¬è©¦</button>
                <button onclick="resetContent()">é‡ç½®å…§å®¹</button>
                <button onclick="checkOverflow()">æª¢æŸ¥æº¢å‡ºç‹€æ…‹</button>
            </div>
            <div class="new-table-block" id="newTable">
                <table>
                    <thead>
                        <tr>
                            <th>é …ç›®ç·¨è™Ÿ</th>
                            <th>æª¢æŸ¥é …ç›®åç¨±</th>
                            <th>è©³ç´°èªªæ˜èˆ‡è¦æ±‚</th>
                            <th>æª¢æŸ¥çµæœ</th>
                            <th>å‚™è¨»æ¬„ä½</th>
                            <th>è² è²¬äººå“¡</th>
                            <th>å®Œæˆæ—¥æœŸ</th>
                        </tr>
                    </thead>
                    <tbody id="newTableBody">
                        <tr>
                            <td>001</td>
                            <td>é€™æ˜¯ä¸€å€‹å¾ˆé•·çš„æª¢æŸ¥é …ç›®åç¨±å¯èƒ½æœƒé€ æˆè¡¨æ ¼ä½ˆå±€å•é¡Œ</td>
                            <td>é€™è£¡æ˜¯éå¸¸è©³ç´°çš„èªªæ˜æ–‡å­—ï¼ŒåŒ…å«äº†å¾ˆå¤šé‡è¦çš„æª¢æŸ¥è¦æ±‚å’Œæ¨™æº–</td>
                            <td>â˜‘ï¸ é€šé</td>
                            <td>ç„¡ç‰¹æ®Šç‹€æ³</td>
                            <td>å¼µä¸‰</td>
                            <td>2025-06-26</td>
                        </tr>
                        <tr>
                            <td>002</td>
                            <td>å¦ä¸€å€‹æª¢æŸ¥é …ç›®</td>
                            <td>ç°¡çŸ­èªªæ˜</td>
                            <td>âŒ æœªé€šé</td>
                            <td>éœ€è¦é€²ä¸€æ­¥æª¢æŸ¥</td>
                            <td>æå››</td>
                            <td>å¾…å®š</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="status no-overflow" id="newStatus">æª¢æŸ¥ç‹€æ…‹ï¼šç„¡æº¢å‡º</div>
        </div>

        <div class="demo-section">
            <div class="demo-title">ğŸ“‹ è§£æ±ºæ–¹æ¡ˆç‰¹è‰²</div>
            <div class="demo-description">
                <ul>
                    <li><strong>è‡ªå‹•æº¢å‡ºæª¢æ¸¬ï¼š</strong>JavaScript å‹•æ…‹æª¢æ¸¬è¡¨æ ¼æ˜¯å¦è¶…å‡ºå®¹å™¨å¯¬åº¦</li>
                    <li><strong>ç¾åŒ–æ»¾å‹•æ¢ï¼š</strong>è‡ªè¨‚æ»¾å‹•æ¢æ¨£å¼ï¼Œæå‡è¦–è¦ºé«”é©—</li>
                    <li><strong>æ™ºèƒ½æ–‡å­—è™•ç†ï¼š</strong>ä½¿ç”¨ `word-wrap: break-word` è€Œéå¼·åˆ¶æ–·è¡Œ</li>
                    <li><strong>è¦–è¦ºæç¤ºï¼š</strong>ç•¶æœ‰æ»¾å‹•æ™‚é¡¯ç¤ºã€Œæ»‘å‹•æŸ¥çœ‹æ›´å¤šã€æç¤º</li>
                    <li><strong>éŸ¿æ‡‰å¼è¨­è¨ˆï¼š</strong>åœ¨ä¸åŒè¢å¹•å°ºå¯¸ä¸‹è‡ªé©æ‡‰èª¿æ•´</li>
                    <li><strong>å¹³æ»‘éæ¸¡ï¼š</strong>æ‡¸åœæ•ˆæœå’Œé‚Šæ¡†é¡è‰²è®ŠåŒ–</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        function checkOverflow() {
            // æª¢æŸ¥èˆŠè¡¨æ ¼
            const oldTable = document.getElementById('oldTable');
            const oldStatus = document.getElementById('oldStatus');
            const oldHasOverflow = oldTable.scrollWidth > oldTable.clientWidth;
            
            if (oldHasOverflow) {
                oldStatus.textContent = 'æª¢æŸ¥ç‹€æ…‹ï¼šç™¼ç¾æ°´å¹³æº¢å‡º';
                oldStatus.className = 'status overflow';
            } else {
                oldStatus.textContent = 'æª¢æŸ¥ç‹€æ…‹ï¼šç„¡æº¢å‡º';
                oldStatus.className = 'status no-overflow';
            }

            // æª¢æŸ¥æ–°è¡¨æ ¼
            const newTable = document.getElementById('newTable');
            const newStatus = document.getElementById('newStatus');
            const newHasOverflow = newTable.scrollWidth > newTable.clientWidth;
            
            if (newHasOverflow) {
                newStatus.textContent = 'æª¢æŸ¥ç‹€æ…‹ï¼šç™¼ç¾æ°´å¹³æº¢å‡ºï¼ˆå·²è‡ªå‹•è™•ç†ï¼‰';
                newStatus.className = 'status overflow';
                newTable.classList.add('has-scroll');
            } else {
                newStatus.textContent = 'æª¢æŸ¥ç‹€æ…‹ï¼šç„¡æº¢å‡º';
                newStatus.className = 'status no-overflow';
                newTable.classList.remove('has-scroll');
            }
        }

        function addWideContent() {
            const tableBody = document.getElementById('newTableBody');
            const newRow = document.createElement('tr');
            newRow.innerHTML = `
                <td>003</td>
                <td>é€™æ˜¯ä¸€å€‹æ¥µåº¦è¶…é•·çš„æª¢æŸ¥é …ç›®åç¨±ç”¨ä¾†æ¸¬è©¦è¡¨æ ¼åœ¨é¢å°è¶…å¯¬å…§å®¹æ™‚çš„è™•ç†èƒ½åŠ›å’ŒéŸ¿æ‡‰å¼è¡¨ç¾</td>
                <td>é€™æ˜¯ä¸€æ®µéå¸¸éå¸¸éå¸¸é•·çš„è©³ç´°èªªæ˜æ–‡å­—ï¼Œå…¶ä¸­åŒ…å«äº†å¤§é‡çš„æŠ€è¡“ç´°ç¯€ã€æ“ä½œæ­¥é©Ÿã€æ³¨æ„äº‹é …ä»¥åŠå„ç¨®å¯èƒ½é‡åˆ°çš„å•é¡Œå’Œå°æ‡‰çš„è§£æ±ºæ–¹æ¡ˆï¼Œç›®çš„æ˜¯æ¸¬è©¦ç•¶å„²å­˜æ ¼å…§å®¹æ¥µåº¦éé•·æ™‚è¡¨æ ¼çš„é¡¯ç¤ºæ•ˆæœå’Œæ»¾å‹•è¡Œç‚º</td>
                <td>ğŸ”„ æª¢æŸ¥ä¸­</td>
                <td>é€™è£¡æ˜¯å‚™è¨»æ¬„ä½çš„è¶…é•·å…§å®¹æ¸¬è©¦</td>
                <td>ç‹äº”</td>
                <td>2025-06-27</td>
            `;
            tableBody.appendChild(newRow);
            
            setTimeout(checkOverflow, 100);
        }

        function resetContent() {
            const tableBody = document.getElementById('newTableBody');
            tableBody.innerHTML = `
                <tr>
                    <td>001</td>
                    <td>é€™æ˜¯ä¸€å€‹å¾ˆé•·çš„æª¢æŸ¥é …ç›®åç¨±å¯èƒ½æœƒé€ æˆè¡¨æ ¼ä½ˆå±€å•é¡Œ</td>
                    <td>é€™è£¡æ˜¯éå¸¸è©³ç´°çš„èªªæ˜æ–‡å­—ï¼ŒåŒ…å«äº†å¾ˆå¤šé‡è¦çš„æª¢æŸ¥è¦æ±‚å’Œæ¨™æº–</td>
                    <td>â˜‘ï¸ é€šé</td>
                    <td>ç„¡ç‰¹æ®Šç‹€æ³</td>
                    <td>å¼µä¸‰</td>
                    <td>2025-06-26</td>
                </tr>
                <tr>
                    <td>002</td>
                    <td>å¦ä¸€å€‹æª¢æŸ¥é …ç›®</td>
                    <td>ç°¡çŸ­èªªæ˜</td>
                    <td>âŒ æœªé€šé</td>
                    <td>éœ€è¦é€²ä¸€æ­¥æª¢æŸ¥</td>
                    <td>æå››</td>
                    <td>å¾…å®š</td>
                </tr>
            `;
            
            setTimeout(checkOverflow, 100);
        }

        // ç›£è½è¦–çª—å¤§å°è®ŠåŒ–
        window.addEventListener('resize', checkOverflow);
        
        // é é¢è¼‰å…¥æ™‚æª¢æŸ¥
        document.addEventListener('DOMContentLoaded', checkOverflow);
    </script>
</body>
</html>
